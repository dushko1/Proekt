# MemoryGame
Проект направен со Windows forms од Душко Брезовски, Бојан Ристовски и Филип Поповски.

## Опис
Ние одлучивме да ја рекреираме многу познатата игра **Memory Match game** во која освен основните функционалности, за подобро искуство на играчот додадовме повеќе нивоа, секое со различни опции за тежина. Имплементиравме едноставен дизајн во кој сите елементи се јасно покажани.

## Правила на играта
При старт на играта се отвара едно мени во кое се одбира кое ниво ќе се игра.


![Слика1](https://i.imgur.com/SuYnDLB.png)


По селетирање на ниво се крие почетното мени и се уклучува соодветното ниво каде се чека селектирање на тежина.Има три различни тежини, каде потежките имаат помалку време за победување.

![Слика2](https://i.imgur.com/QQqowXY.png)


Секоја од тежините е прилагодена за соодветното ниво каде што се користи.Тие се:
* Easy (лесно)
* Medium (средно)
* Hard (тешко)
После селекција на тежина играта почнува, а со тоа и тајмерот. На почеток сите слики се сокриени и играчот одбира две слики и селектираните слики се превртуваат. Ако се исти сликите остануваат превртени до крајот на играта и се оневозможува повторен клик и се зголемува бројот на поени. Во спротивно остануваат превртени одредено време и потоа се враќаат назад.
Играта трае додека не се погодат сите парови или не снема време. Играчот добива соодветн порака во зависност дали победил или снемал време(а има и посебна порака ако на најтешката тежина победи). Откако заврши играта се овозможува повторно почнување на играта или при гасење на тој прозорец се враќа на првичниот прозорец каде играчот може да одбере друго ниво или да ја изгаси играта. 


![Слика3](https://i.imgur.com/qHUZZyB.png)


## Претставување на играта
Секое ниво како и почетното мени претставуваат различен```Form() ``` и главните компоненти на играта(сликите кои се кликаат) се ```Picuturebox``` и се чува во вид на низа што олеснува рандомизација. За пополнување на низата се чува инферфејс ```Ienumerable<Image>``` кој ги содржи сликите кои ќе бидат користени.
```c#
public partial class Level3 : Form

private PictureBox[] pictureBoxes

private static IEnumerable<Image> images
```

## Функции
При клик за одбирање на тежина се повикува функцијата ```start()``` при што се доделуваат соодветни параметри според одбраната тежина. Таа функција ги ресетира сите слики и променливи и ја почнува играта.

Функцијата ```getEmpty()``` враќа слободен ```Picturebox``` (за слободен се смета оној кој вредноста на ```Tag``` е **null**).

Функцијата ```Randomize()``` со повикување на функцијата ```getEmpty()``` два пати за секоја слика ја пополнува низата и може да започне играта.

Функцијата
```c#

private void ClickImage(object sender, EventArgs e)
        {
            if (!canclick) return;
            first = false;

            if (firstguess == null)
            {
                firstguess = (PictureBox)sender;
                firstguess.Image = (Image)firstguess.Tag;

                return;

            }
            secondguess = (PictureBox)sender;
            secondguess.Image = (Image)secondguess.Tag;


            if (secondguess.Image==firstguess.Image && secondguess!=firstguess)
            {
                this.score += 1;
                label2.Text = score.ToString();
                secondguess.Enabled = firstguess.Enabled = false;
                firstguess = secondguess = null;

            }
            else
            {
                
                canclick = false;
                clickTimer.Start();
            }
            
            if (Convert.ToInt32(label2.Text)<18) return;
            timer.Stop();
            if(hard) MessageBox.Show("Impressive!");
            else MessageBox.Show("Win");
            
            enableRestart();
            

        }
```

е главната функција на нашата игра која важи за сите слики кои можат да бидат кликнати. Променливите **firstguess** и **secondguess** се од тип ```Picturebox```, а променливите **canclick** и **first** се од тип ```bool```.

**canclick** означува дали е дозволено кликање на сликите(ако не е одма завршува функцијата), a **first** ознажува дали е прво влегување во функцијата. 

**firstguess** и **secondguess** на почеток се **null** и со кастирање на **sender**(кој означува кој објект го повикал настанот) се пополнуваат со соодветни вредности(на прво повикување **firstguess** се полни,а на второ **secondguess**). После пополнување се открива соодветната слика која била кликната, а по пополнување на двете се први споредба на кликнатите слики. Ако ја содржат истата слика а биле повикани од различен објект двете остануваат откриени, бројот на поени се зголемува и се оневозможува повторно кликање на тие слики. 

Во спротивно се поставува **canclick** на **false** и со помош на **timer** остануваат откриени двете слики одредено време, а со завршување на тој **timer** се поставува **canclick** на **true** и се покриваат кликнтите слики. Играта завршува или со победа(сите парови се откриени) или со завршување на времето предвидено за игра. 
Во двата случаи се стопира соодветниот **timer** и се покажува соодветна порака. И на крај со функцијата ```enableRestart()``` се овозможува повторно почнување на играта. 
